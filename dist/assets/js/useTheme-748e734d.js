import{l as d,m as D,n as I,q as F,s as M}from"./index-eee64538.js";var m=2,g=.16,P=.05,E=.05,B=.15,A=5,L=4,H=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function b(e){var t=e.r,r=e.g,a=e.b,i=D(t,r,a);return{h:i.h*360,s:i.s,v:i.v}}function p(e){var t=e.r,r=e.g,a=e.b;return"#".concat(I(t,r,a,!1))}function K(e,t,r){var a=r/100,i={r:(t.r-e.r)*a+e.r,g:(t.g-e.g)*a+e.g,b:(t.b-e.b)*a+e.b};return i}function C(e,t,r){var a;return Math.round(e.h)>=60&&Math.round(e.h)<=240?a=r?Math.round(e.h)-m*t:Math.round(e.h)+m*t:a=r?Math.round(e.h)+m*t:Math.round(e.h)-m*t,a<0?a+=360:a>=360&&(a-=360),a}function y(e,t,r){if(e.h===0&&e.s===0)return e.s;var a;return r?a=e.s-g*t:t===L?a=e.s+g:a=e.s+P*t,a>1&&(a=1),r&&t===A&&a>.1&&(a=.1),a<.06&&(a=.06),Number(a.toFixed(2))}function k(e,t,r){var a;return r?a=e.v+E*t:a=e.v-B*t,a>1&&(a=1),Number(a.toFixed(2))}function x(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=[],a=d(e),i=A;i>0;i-=1){var s=b(a),l=p(d({h:C(s,i,!0),s:y(s,i,!0),v:k(s,i,!0)}));r.push(l)}r.push(p(a));for(var o=1;o<=L;o+=1){var n=b(a),c=p(d({h:C(n,o),s:y(n,o),v:k(n,o)}));r.push(c)}return t.theme==="dark"?H.map(function(u){var N=u.index,T=u.opacity,S=p(K(d(t.backgroundColor||"#141414"),d(r[N]),T*100));return S}):r}var h={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},f={},v={};Object.keys(h).forEach(function(e){f[e]=x(h[e]),f[e].primary=f[e][5],v[e]=x(h[e],{theme:"dark",backgroundColor:"#141414"}),v[e].primary=v[e][5]});const $=F({id:"system",state:()=>localStorage.getItem("systemConfig")?JSON.parse(localStorage.getItem("systemConfig")):{sideBar:{isCollapse:!1},keepAliveNameList:[],tabList:[],mainMaximize:!1,isDark:!1,themeColor:"#1890FF"},actions:{setCollapse(e){this.sideBar.isCollapse=e},findIndex(e){return this.keepAliveNameList.findIndex(t=>t===e)},addKeepAliveName(e){!this.keepAliveNameList.includes(e)&&this.keepAliveNameList.push(e)},removeKeepAliveName(e){const t=this.findIndex(e);this.keepAliveNameList.splice(t,1)},setKeepAliveName(e){this.keepAliveNameList=e},removeLeftKeepAliveName(e){const t=this.findIndex(e);this.keepAliveNameList.splice(0,t)},removeRightKeepAliveName(e){const t=this.findIndex(e);this.keepAliveNameList.splice(t+1)},addTab(e){this.tabList.some(t=>t.fullPath===e.fullPath)||this.tabList.push(e)},removeTab(e,t){const{tabList:r}=this;t&&r.forEach((i,s)=>{if(i.fullPath!==e)return;const l=r[s+1]||r[s-1];!l||M.push(l.fullPath)});const a=r.findIndex(i=>i.fullPath===e);r.splice(a,1)},removeMultipleTab(e){this.tabList=this.tabList.filter(t=>t.fullPath===e)},removeLeftTab(e){const t=this.tabList.findIndex(r=>r.fullPath===e);this.tabList.splice(0,t)},removeRightTab(e){const t=this.tabList.findIndex(r=>r.fullPath===e);this.tabList.splice(t+1)},setMainMaximize(e){this.mainMaximize=e},setDark(e){this.isDark=e},setThemeColor(e){this.themeColor=e}}});function R(){const e=$(),t=i=>{document.body.classList[i?"add":"remove"]("v-dark"),e.setDark(i),r(e.themeColor)},r=i=>{const s=document.querySelector("#theme-var");s&&s.parentNode&&s.parentNode.removeChild(s);const l=x(i,e.isDark?{theme:"dark"}:{}),o=e.isDark?".v-dark":":root",n=document.createElement("style");n.id="theme-var",n.setAttribute("type","text/css"),e.setThemeColor(i),n.innerHTML=`${o}{${l.map((c,u)=>`--primary-${u+1}:${c};`).concat([`--primary-color:${i};`]).join("")}}`,document.head.appendChild(n)};return{changeDark:t,changeTheme:r,initThemeAndDark:()=>{t(e.isDark),r(e.themeColor)}}}export{$ as a,R as u};
